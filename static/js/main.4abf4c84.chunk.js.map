{"version":3,"sources":["services/api.ts","contexts/UserContext.tsx","components/PostCard.tsx","components/AllPosts.tsx","components/Login.tsx","components/Register.tsx","components/CreatePost.tsx","components/ActionsHeader.tsx","components/Search.tsx","pages/Home.tsx","pages/Post.tsx","App.tsx","index.tsx"],"names":["api","axios","create","baseURL","UserContext","createContext","UserProvider","children","useState","Cookies","get","user","setUser","token","username","password","setErrorMessage","a","post","data","set","response","error","console","log","title","content","headers","Authorization","useEffect","Provider","value","loginUser","logUserOut","remove","window","location","reload","singUpUser","createPost","ContextOfUser","useContext","PostCard","loggedUser","setLoggedUser","id","delete","className","style","textDecoration","to","slug","onClick","fontSize","created_by","deletePost","Blog","posts","setPosts","getAllPosts","map","index","Login","isVisible","loginVisible","setLoginVisilbe","valideForm","setValideForm","setUsername","setPassword","errorMessage","e","preventDefault","message","onSubmit","handleSubmit","required","onChange","target","name","type","htmlFor","disabled","Register","registerVisible","registerVisilbe","SingUpUser","CreatePost","setTitle","setContent","action","ActionsHeader","viewLoginForm","setViewLoginForm","viewRegisterForm","setViewRegisterForm","viewCreatePost","setViewCreatePost","loginRef","useRef","registerRef","createPostRef","handleClick","current","contains","document","addEventListener","removeEventListener","ref","href","Search","history","useHistory","search","setSearch","push","toLowerCase","replace","Home","Post","match","params","setPost","searchPost","readOnly","App","basename","pathname","path","exact","component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.4abf4c84.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst api = axios.create({\r\n  baseURL: \"https://blog-post-api-rest.herokuapp.com\",\r\n});\r\n\r\nexport default api;\r\n","import { createContext, ReactNode, useEffect, useState } from \"react\";\r\nimport Cookies from \"js-cookie\";\r\nimport { useContext } from \"react\";\r\nimport api from \"../services/api\";\r\n\r\ntype UserProviderProps = {\r\n  children: ReactNode;\r\n};\r\n\r\ntype IUser = {\r\n  id: string;\r\n  username: string;\r\n};\r\n\r\ntype UserContextValue = {\r\n  user: IUser;\r\n  token: string;\r\n  loginUser: (\r\n    username: string,\r\n    password: string,\r\n    setErrorMessage: Function\r\n  ) => void;\r\n  logUserOut: () => void;\r\n  singUpUser: (\r\n    username: string,\r\n    password: string,\r\n    setErrorMessage: Function\r\n  ) => void;\r\n\r\n  createPost: (\r\n    title: string,\r\n    content: string,\r\n    setErrorMessage: Function\r\n  ) => void;\r\n};\r\n\r\nexport const UserContext = createContext({} as UserContextValue);\r\n\r\nexport function UserProvider({ children }: UserProviderProps) {\r\n  const [user, setUser] = useState<string | any>(Cookies.get(\"user\"));\r\n  const [token, setToken] = useState<string | any>(Cookies.get(\"token\"));\r\n\r\n  useEffect(() => {\r\n    setUser(user);\r\n  }, [user]);\r\n\r\n  async function loginUser(\r\n    username: string,\r\n    password: string,\r\n    setErrorMessage: Function\r\n  ) {\r\n    try {\r\n      const { data } = await api.post(\"/user/login\", {\r\n        username,\r\n        password,\r\n      });\r\n\r\n      if (!data) {\r\n        setErrorMessage(\"Internal error\");\r\n      } else {\r\n        Cookies.set(\"user\", data.user.username);\r\n        Cookies.set(\"token\", data.token);\r\n        setUser(data.user.username);\r\n      }\r\n    } catch (e) {\r\n      setErrorMessage(e.response.data.error);\r\n    }\r\n  }\r\n\r\n  async function singUpUser(\r\n    username: string,\r\n    password: string,\r\n    setErrorMessage: Function\r\n  ) {\r\n    console.log(\"sing up\");\r\n\r\n    try {\r\n      const { data } = await api.post(\"/user/register\", {\r\n        username,\r\n        password,\r\n      });\r\n\r\n      if (!data) {\r\n        setErrorMessage(\"Internal error\");\r\n      } else {\r\n        Cookies.set(\"user\", data.user.username);\r\n        Cookies.set(\"token\", data.token);\r\n        setUser(data.user.username);\r\n      }\r\n    } catch (e) {\r\n      setErrorMessage(e.response.data.error);\r\n    }\r\n  }\r\n\r\n  function logUserOut() {\r\n    Cookies.remove(\"user\");\r\n    Cookies.remove(\"token\");\r\n    setUser(null);\r\n    window.location.reload();\r\n  }\r\n\r\n  async function createPost(\r\n    title: string,\r\n    content: string,\r\n    setErrorMessage: Function\r\n  ) {\r\n    console.log(\"creat post\");\r\n\r\n    try {\r\n      const { data } = await api.post(\r\n        \"/blogpost/create\",\r\n        {\r\n          title,\r\n          content,\r\n        },\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        }\r\n      );\r\n      console.log(\"data\", data);\r\n\r\n      if (!data) {\r\n        setErrorMessage(\"Internal error\");\r\n      }\r\n    } catch (e) {\r\n      setErrorMessage(e.response.data.error);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <UserContext.Provider\r\n      value={{ user, token, loginUser, logUserOut, singUpUser, createPost }}\r\n    >\r\n      {children}\r\n    </UserContext.Provider>\r\n  );\r\n}\r\n\r\nexport const ContextOfUser = () => {\r\n  return useContext(UserContext);\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\n\r\nimport \"../styles/postcard.css\";\r\nimport { ContextOfUser } from \"../contexts/UserContext\";\r\nimport api from \"../services/api\";\r\n\r\ntype IPost = {\r\n  content: string;\r\n  created_by: string;\r\n  slug: string;\r\n  title: string;\r\n  id: string;\r\n};\r\n\r\ntype IPostProps = {\r\n  post: IPost;\r\n};\r\n\r\nexport default function PostCard({ post }: IPostProps) {\r\n  const { user, token } = ContextOfUser();\r\n  const [loggedUser, setLoggedUser] = useState<string | any>(user);\r\n\r\n  console.log(\"token\", token);\r\n\r\n  useEffect(() => {\r\n    setLoggedUser(loggedUser);\r\n  }, [user, loggedUser]);\r\n\r\n  async function deletePost(id: string) {\r\n    await api.delete(`blogpost/${id}`, {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n\r\n    window.location.reload();\r\n  }\r\n\r\n  return (\r\n    <div className=\"post-wrapper\">\r\n      <Link\r\n        className=\"link-post\"\r\n        style={{ textDecoration: \"none\" }}\r\n        to={`post/${post.slug}`}\r\n      >\r\n        <div onClick={() => console.log(\"teste\")} className=\"post-card\">\r\n          <h2>{post.title}</h2>\r\n          <p>{post.content}</p>\r\n          <div className=\"createdby\">\r\n            <AccountCircleIcon style={{ fontSize: \"48px\" }} />\r\n            <span>{post.created_by}</span>\r\n          </div>\r\n        </div>\r\n      </Link>\r\n\r\n      {post.created_by === loggedUser && (\r\n        <i onClick={() => deletePost(post.id)} className=\"delete-post\">\r\n          <DeleteIcon />\r\n        </i>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport api from \"../services/api\";\r\nimport Post from \"./PostCard\";\r\n\r\nimport \"../styles/allposts.css\";\r\n\r\ntype IPost = {\r\n  content: string;\r\n  created_by: string;\r\n  slug: string;\r\n  title: string;\r\n  id: string;\r\n};\r\n\r\nexport default function Blog() {\r\n  const [posts, setPosts] = useState<IPost[] | undefined>();\r\n\r\n  useEffect(() => {\r\n    async function getAllPosts() {\r\n      const response = await (await api.get(\"/blogpost\")).data;\r\n\r\n      setPosts(response);\r\n    }\r\n    getAllPosts();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"posts\">\r\n      {posts?.map((post, index) => (\r\n        <Post key={index} post={post} />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n","import React, { FormEvent, useEffect, useState } from \"react\";\r\n\r\nimport \"../styles/login.css\";\r\nimport { ContextOfUser } from \"../contexts/UserContext\";\r\n\r\ntype LoginProps = {\r\n  isVisible: boolean;\r\n};\r\n\r\nexport default function Login({ isVisible }: LoginProps) {\r\n  const [loginVisible, setLoginVisilbe] = useState<boolean>(isVisible);\r\n\r\n  useEffect(() => {\r\n    setLoginVisilbe(isVisible);\r\n  }, [isVisible]);\r\n\r\n  const [valideForm, setValideForm] = useState(false);\r\n\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n  const { user, loginUser } = ContextOfUser();\r\n\r\n  useEffect(() => {\r\n    setLoginVisilbe(false);\r\n  }, [user]);\r\n\r\n  async function handleSubmit(e: FormEvent) {\r\n    e.preventDefault();\r\n    setValideForm(!valideForm);\r\n    setErrorMessage(\"\");\r\n\r\n    try {\r\n      await loginUser(username, password, setErrorMessage);\r\n      if (!errorMessage) {\r\n        window.location.reload();\r\n      }\r\n    } catch (e) {\r\n      setErrorMessage(e.message);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <form\r\n      onSubmit={(e) => handleSubmit(e)}\r\n      className={`login-form ${\r\n        loginVisible ? \"form-actived\" : \"form-disabled\"\r\n      }`}\r\n    >\r\n      <h1 className=\"login-title\">Login</h1>\r\n      <div className=\"container-email-login\">\r\n        <input\r\n          required\r\n          onChange={(e) => setUsername(e.target.value)}\r\n          className=\"input-email login-input\"\r\n          name=\"email\"\r\n          type=\"text\"\r\n        />\r\n        <label className=\"label-email label-login \" htmlFor=\"\">\r\n          Username\r\n        </label>\r\n      </div>\r\n      <div className=\"container-password-login\">\r\n        <input\r\n          required\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          className=\"input-password login-input\"\r\n          type=\"password\"\r\n        />\r\n        <label className=\"label-password label-login\" htmlFor=\"\">\r\n          Password\r\n        </label>\r\n      </div>\r\n      <div className=\"errox-box\">\r\n        <span className=\"error-message\">{errorMessage}</span>\r\n      </div>\r\n      <button\r\n        className=\"button-login\"\r\n        disabled={username && password ? false : true}\r\n        type=\"submit\"\r\n      >\r\n        Login\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n","import React, { FormEvent, useEffect, useState } from \"react\";\r\n\r\nimport \"../styles/register.css\";\r\nimport { ContextOfUser } from \"../contexts/UserContext\";\r\n\r\ntype registerProps = {\r\n  isVisible: boolean;\r\n};\r\n\r\nexport default function Register({ isVisible }: registerProps) {\r\n  const [registerVisible, registerVisilbe] = useState<boolean>(isVisible);\r\n\r\n  useEffect(() => {\r\n    registerVisilbe(isVisible);\r\n  }, [isVisible]);\r\n\r\n  const [valideForm, setValideForm] = useState(false);\r\n\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n  const { user, singUpUser: SingUpUser } = ContextOfUser();\r\n\r\n  useEffect(() => {\r\n    registerVisilbe(false);\r\n  }, [user]);\r\n\r\n  async function handleSubmit(e: FormEvent) {\r\n    e.preventDefault();\r\n    setValideForm(!valideForm);\r\n    setErrorMessage(\"\");\r\n\r\n    try {\r\n      await SingUpUser(username, password, setErrorMessage);\r\n    } catch (e) {\r\n      setErrorMessage(e.message);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <form\r\n      onSubmit={(e) => handleSubmit(e)}\r\n      className={`register-form ${\r\n        registerVisible ? \"form-actived\" : \"form-disabled\"\r\n      }`}\r\n    >\r\n      <h1 className=\"register-title\">Sign Up</h1>\r\n      <div className=\"container-email-register\">\r\n        <input\r\n          required\r\n          onChange={(e) => setUsername(e.target.value)}\r\n          className=\"input-email register-input\"\r\n          name=\"email\"\r\n          type=\"text\"\r\n        />\r\n        <label className=\"label-email label-register \" htmlFor=\"\">\r\n          Username\r\n        </label>\r\n      </div>\r\n      <div className=\"container-password-register\">\r\n        <input\r\n          required\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          className=\"input-password register-input\"\r\n          type=\"password\"\r\n        />\r\n        <label className=\"label-password label-register\" htmlFor=\"\">\r\n          Password\r\n        </label>\r\n      </div>\r\n      <div className=\"errox-box\">\r\n        <span className=\"error-message\">{errorMessage}</span>\r\n      </div>\r\n      <button\r\n        className=\"button-register\"\r\n        disabled={username && password ? false : true}\r\n        type=\"submit\"\r\n      >\r\n        Sign Up\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n","import React, { FormEvent, useState } from \"react\";\r\nimport { ContextOfUser } from \"../contexts/UserContext\";\r\n\r\nimport \"../styles/createpost.css\";\r\n\r\ntype CreatePostProps = {\r\n  isVisible: boolean;\r\n};\r\n\r\nexport default function CreatePost({ isVisible }: CreatePostProps) {\r\n  const [title, setTitle] = useState(\"\");\r\n  const [content, setContent] = useState(\"\");\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n  const { createPost } = ContextOfUser();\r\n\r\n  async function handleSubmit(e: FormEvent) {\r\n    e.preventDefault();\r\n    try {\r\n      await createPost(title, content, setErrorMessage);\r\n      if (!errorMessage) {\r\n        window.location.reload();\r\n      }\r\n    } catch {}\r\n    // e.preventDefault();\r\n  }\r\n  return (\r\n    <div className={`create-post ${!isVisible && \"create-disabled\"}`}>\r\n      <h1 className=\"create-post-title\">Create Post</h1>\r\n      <form className=\"create-post-form\" action=\"\">\r\n        <div className=\"title-post-box\">\r\n          <input\r\n            onChange={(e) => setTitle(e.target.value)}\r\n            required\r\n            className=\"create-post-input\"\r\n            type=\"text\"\r\n          />\r\n          <label className=\"create-post-label\">Title</label>\r\n        </div>\r\n        <div className=\"create-post-box\">\r\n          <textarea\r\n            className=\"create-post-textarea\"\r\n            onChange={(e) => setContent(e.target.value)}\r\n            required\r\n          ></textarea>\r\n          <label className=\"content-post-label\">Content</label>\r\n        </div>\r\n        <button\r\n          onClick={(e) => handleSubmit(e)}\r\n          className=\"create-button\"\r\n          type=\"submit\"\r\n        >\r\n          Create Post\r\n        </button>\r\n        <div className=\"error-message-box\">\r\n          <span className=\"error-message\">{errorMessage}</span>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Login from \"./Login\";\r\nimport Register from \"./Register\";\r\n\r\nimport Cookies from \"js-cookie\";\r\n\r\nimport \"../styles/actionsheader.css\";\r\n\r\nimport { ContextOfUser } from \"../contexts/UserContext\";\r\nimport { useRef } from \"react\";\r\nimport CreatePost from \"./CreatePost\";\r\n\r\ntype IUser = {\r\n  id: string;\r\n  username: string;\r\n};\r\n\r\nexport default function ActionsHeader() {\r\n  const [viewLoginForm, setViewLoginForm] = useState<boolean>(false);\r\n  const [viewRegisterForm, setViewRegisterForm] = useState<boolean>(false);\r\n  const [viewCreatePost, setViewCreatePost] = useState<boolean>(false);\r\n\r\n  const { user, logUserOut } = ContextOfUser();\r\n\r\n  useEffect(() => {\r\n    setViewLoginForm(false);\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    setViewRegisterForm(false);\r\n  }, [user]);\r\n\r\n  //see if it was click outside the element\r\n  const loginRef = useRef<HTMLDivElement>(null);\r\n  const registerRef = useRef<HTMLDivElement>(null);\r\n  const createPostRef = useRef<HTMLDivElement>(null);\r\n  //see if it was click outside the element\r\n  const handleClick = (e: any) => {\r\n    if (\r\n      !registerRef?.current?.contains(e.target)\r\n      // ||\r\n    ) {\r\n      setViewRegisterForm(false);\r\n    }\r\n\r\n    if (!loginRef?.current?.contains(e.target)) {\r\n      setViewLoginForm(false);\r\n    }\r\n\r\n    if (!createPostRef?.current?.contains(e.target)) {\r\n      setViewCreatePost(false);\r\n    }\r\n  };\r\n  //see if it was click outside the element\r\n  useEffect(() => {\r\n    document.addEventListener(\"mousedown\", handleClick);\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", handleClick);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <div ref={createPostRef}>\r\n        <CreatePost isVisible={viewCreatePost} />\r\n      </div>\r\n\r\n      <div ref={loginRef}>\r\n        <Login isVisible={viewLoginForm} />\r\n      </div>\r\n\r\n      <div ref={registerRef}>\r\n        <Register isVisible={viewRegisterForm} />\r\n      </div>\r\n\r\n      <div className={`actions-header`}>\r\n        {user ? (\r\n          <>\r\n            <button\r\n              onClick={() => setViewCreatePost(true)}\r\n              className=\"create-post-button\"\r\n            >\r\n              Create Post\r\n            </button>\r\n            <a\r\n              onClick={() => logUserOut()}\r\n              href=\"#\"\r\n              className=\"create-post-link\"\r\n            >\r\n              Log out\r\n            </a>\r\n            <span className=\"user-username\">{user}</span>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <button\r\n              onClick={() => setViewLoginForm(!viewLoginForm)}\r\n              className=\"login-button  action-button\"\r\n            >\r\n              login\r\n            </button>\r\n            <button\r\n              onClick={() => setViewRegisterForm(!viewRegisterForm)}\r\n              className=\"register-button action-button\"\r\n            >\r\n              register\r\n            </button>\r\n          </>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React, { FormEvent, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport \"../styles/search.css\";\r\n\r\nexport default function Search() {\r\n  const history = useHistory();\r\n\r\n  const [search, setSearch] = useState(\"\");\r\n\r\n  async function handleSubmit(e: FormEvent) {\r\n    e.preventDefault();\r\n\r\n    history.push(`post/${search}`);\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={(e) => handleSubmit(e)} className=\"search-form\">\r\n      <input\r\n        onChange={(e) => {\r\n          const slug = e.target.value\r\n            .toLowerCase()\r\n            .replace(/ /g, \"-\")\r\n            .replace(/[^\\w-]+/g, \"\");\r\n\r\n          setSearch(slug);\r\n        }}\r\n        className=\"search-input\"\r\n        required\r\n        type=\"text\"\r\n      />\r\n      <label className=\"search-label\">Search for a post</label>\r\n      <button type=\"submit\" className=\"search-button\">\r\n        Search\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport AllPosts from \"../components/AllPosts\";\r\nimport CreatePost from \"../components/ActionsHeader\";\r\nimport Search from \"../components/Search\";\r\n\r\nimport \"../styles/home.css\";\r\n\r\nexport default function Home() {\r\n  return (\r\n    <div className=\"home\">\r\n      <div className=\"header-bar\">\r\n        <Search />\r\n        <CreatePost />\r\n      </div>\r\n      <AllPosts />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport api from \"../services/api\";\r\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"../styles/post.css\";\r\n\r\ntype IPost = {\r\n  content: string;\r\n  created_by: string;\r\n  id: string;\r\n  slug: string;\r\n  title: string;\r\n};\r\n\r\nexport default function Post({ match }: any) {\r\n  console.log(\"history\", match.params.slug);\r\n\r\n  const search = match.params.slug;\r\n\r\n  const [post, setPost] = useState<IPost | any>({});\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    async function searchPost() {\r\n      try {\r\n        const { data } = await api.get(`blogpost/${search}`);\r\n        setPost(data.post);\r\n      } catch (e) {\r\n        setErrorMessage(e.response.data.error);\r\n      }\r\n    }\r\n\r\n    searchPost();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {errorMessage ? (\r\n        <div className=\"not-found-page\">\r\n          <strong className=\"error-message\">{errorMessage}</strong>\r\n          <Link to=\"/\">\r\n            <button className=\"not-found-button\">Home</button>\r\n          </Link>\r\n        </div>\r\n      ) : (\r\n        <div className=\"post-page-box\">\r\n          <h1 className=\"post-page-title\">{post?.title}</h1>\r\n          <div className=\"post-page-createdby\">\r\n            <AccountCircleIcon style={{ fontSize: \"48px\" }} />\r\n            <span className=\"post-page-span\">{post.created_by}</span>\r\n          </div>\r\n\r\n          <textarea\r\n            readOnly\r\n            value={post.content}\r\n            className=\"post-page-textarea\"\r\n          >\r\n            {post.content}\r\n          </textarea>\r\n          <Link to=\"/\">\r\n            <button className=\"return-home-button\">Home</button>\r\n          </Link>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { BrowserRouter, Route } from \"react-router-dom\";\r\nimport Home from \"./pages/Home\";\r\nimport Post from \"./pages/Post\";\r\n\r\nimport \"./styles/app.css\";\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"app\">\r\n      <BrowserRouter basename={window.location.pathname || \"\"}>\r\n        <Route path=\"/\" exact component={Home} />\r\n        <Route path=\"/post/:slug\" exact component={Post} />\r\n      </BrowserRouter>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./styles/index.css\";\r\nimport App from \"./App\";\r\nimport { UserProvider } from \"./contexts/UserContext\";\r\n\r\nReactDOM.render(\r\n  <UserProvider>\r\n    <App />\r\n  </UserProvider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}